@page "/"
@using MudBlazor
@using ThreeBodySimulation.Data
@using ThreeBodySimulation.Blazor.Components
@inject IJSRuntime JS

<PageTitle>Home</PageTitle>

<MudGrid>
    <MudItem xs="12" lg="6">
        <BodyPrompt @bind-Body="body1" Title="Body 1" />
    </MudItem>
    <MudItem xs="12" lg="6">
        <BodyPrompt @bind-Body="body2" Title="Body 2" />
    </MudItem>
    <MudItem xs="12" lg="6">
        <BodyPrompt @bind-Body="body3" Title="Body 3" />
    </MudItem>
</MudGrid>
<MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="Test">Simulate</MudButton>

<div id="plot"></div>

@code {
    private Body body1 { get; set; } = new(
        new(-0.60288589811652, 0.059162128863347, 0), 
        new(0.122913546623784, 0.747443868604908, 0),
        1);
    private Body body2 { get; set; } = new(
        new(0.252709795391, 0.105825487222437, 0), 
        new(-0.019325586404545, 1.369241993562101, 0),
        1);
    private Body body3 { get; set; } = new(
        new(-0.355389016941814, 0.1038323764315145, 0),
        new(-0.103587960218793, -2.11668586216882, 0),
        1);

    private async Task Test()
    {
        await JS.InvokeVoidAsync("alert", body1.Mass);
    }
}